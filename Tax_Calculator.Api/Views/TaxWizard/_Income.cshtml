@model Tax_Calculator.Models.IncomeDetailsViewModel
@{
    ViewData["Title"] = "Income Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container py-4">
    <div class="row">
        <div class="col-12 col-lg-10 mx-auto">
            <h2 class="mb-3">Step 3: Income Details</h2>

            <div class="progress mb-4">
                <div class="progress-bar bg-info" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">
                    60%
                </div>
            </div>

            @using (Html.BeginForm("IncomeDetails", "TaxWizard", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                <!-- Salary Income -->
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-primary text-white">Salary Income</div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-6">
                                @Html.LabelFor(m => m.Salary.TotalSalary, "Total Salary", new { @class = "form-label" })
                                @Html.TextBoxFor(m => m.Salary.TotalSalary, new { @class = "form-control", type = "number", step = "0.01", placeholder = "Enter total salary" })
                            </div>
                            <div class="col-md-6">
                                @Html.LabelFor(m => m.Salary.EmployerName, "Employer Name", new { @class = "form-label" })
                                @Html.TextBoxFor(m => m.Salary.EmployerName, new { @class = "form-control", placeholder = "Employer name" })
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Digital Asset Income -->
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-success text-white">Digital Asset Income</div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-4">
                                @Html.LabelFor(m => m.DigitalAsset.DigitalSource, "Digital Source", new { @class = "form-label" })
                                @Html.TextBoxFor(m => m.DigitalAsset.DigitalSource, new { @class = "form-control", placeholder = "Source (e.g., Crypto)" })
                            </div>
                            <div class="col-md-4">
                                @Html.LabelFor(m => m.DigitalAsset.TranscationType, "Transaction Type", new { @class = "form-label" })
                                @Html.DropDownListFor(m => m.DigitalAsset.TranscationType,
                                new SelectList(new[] { "Buy", "Sell" }), "Select Type", new { @class = "form-select" })
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(m => m.DigitalAsset.TranscationAmount, "Transaction Amount", new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.DigitalAsset.TranscationAmount, new { @class = "form-control", type = "number", step = "0.01", placeholder = "Amount" })
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rental Income -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-warning text-dark">Rental Income</div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-8">
                            @Html.LabelFor(m => m.Rent.PropertyAddress, "Property Address", new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.Rent.PropertyAddress, new { @class = "form-control", placeholder = "Enter property address" })
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(m => m.Rent.MonthlyRent, "Monthly Rent", new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.Rent.MonthlyRent, new { @class = "form-control", type = "number", step = "0.01", placeholder = "Rent amount" })
                        </div>
                    </div>
                </div>
            </div>

            <!-- Interest Income -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-secondary text-white">Interest Income</div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            @Html.LabelFor(m => m.Interest.IncomeSource, "Income Source", new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.Interest.IncomeSource, new { @class = "form-control", placeholder = "Bank, FD, etc." })
                        </div>
                        <div class="col-md-6">
                            @Html.LabelFor(m => m.Interest.InterestAmount, "Interest Amount", new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.Interest.InterestAmount, new { @class = "form-control", type = "number", step = "0.01", placeholder = "Amount" })
                        </div>
                    </div>
                </div>
            </div>

            <!-- Home Loan Let-Out Interest -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-dark text-white">Home Loan Let-Out Interest</div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            @Html.LabelFor(m => m.HomeLoan.LenderName, "Lender Name", new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.HomeLoan.LenderName, new { @class = "form-control", placeholder = "Lender name" })
                        </div>
                        <div class="col-md-6">
                            @Html.LabelFor(m => m.HomeLoan.interestAmount, "Interest Amount", new { @class = "form-label" })
                            @Html.TextBoxFor(m => m.HomeLoan.interestAmount, new { @class = "form-control", type = "number", step = "0.01", placeholder = "Amount" })
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="d-flex justify-content-between mt-4">
                <a href="@Url.Action("BankDetails", "TaxWizard")" class="btn btn-outline-secondary">Back</a>
                <button type="submit" class="btn btn-primary">Save & Continue</button>
            </div>
                        }
        </div>
    </div>
</div>
